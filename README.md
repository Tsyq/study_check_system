# æ™ºèƒ½å­¦ä¹ æ‰“å¡ç³»ç»Ÿ

ä¸€ä¸ªå¸®åŠ©åŒå­¦å…»æˆå­¦ä¹ ä¹ æƒ¯ï¼Œè®°å½•å¹¶åˆ†äº«å­¦ä¹ è¿›åº¦çš„æ™ºèƒ½å­¦ä¹ æ‰“å¡ç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•** - å®‰å…¨çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- **æ¯æ—¥å­¦ä¹ æ‰“å¡** - è®°å½•å­¦ä¹ å†…å®¹ã€æ—¶é•¿ã€å¿ƒæƒ…ç­‰
- **å­¦ä¹ è®¡åˆ’ç®¡ç†** - åˆ›å»ºå’Œç®¡ç†ä¸ªäººå­¦ä¹ è®¡åˆ’
- **ç¤¾äº¤äº’åŠ¨** - å­¦ä¹ åœˆåŠ¨æ€ã€ç‚¹èµè¯„è®ºã€å¥½å‹å…³æ³¨
- **ç»Ÿè®¡åˆ†æ** - å­¦ä¹ æ•°æ®ç»Ÿè®¡å’Œæ’è¡Œæ¦œ

### ğŸ“Š å››å¤§æ¨¡å—

#### æˆå‘˜ A - ç”¨æˆ·ä¸æ‰“å¡æ¨¡å—
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- âœ… æ¯æ—¥å­¦ä¹ æ‰“å¡ï¼ˆæ–‡å­—/ä¸Šä¼ å­¦ä¹ æ—¶é•¿ï¼‰
- âœ… æ‰“å¡æé†’ï¼ˆé‚®ä»¶/æ¶ˆæ¯æ¨é€ï¼‰

#### æˆå‘˜ B - å­¦ä¹ è®¡åˆ’æ¨¡å—
- âœ… åˆ›å»ºå­¦ä¹ è®¡åˆ’ï¼ˆç§‘ç›®ã€ç›®æ ‡ï¼‰
- âœ… å­¦ä¹ è®¡åˆ’è¿›åº¦ç®¡ç†
- âœ… æé†’è®¾ç½®ï¼ˆå¦‚è€ƒè¯•å€’è®¡æ—¶ï¼‰

#### æˆå‘˜ C - ç¤¾äº¤äº’åŠ¨æ¨¡å—
- âœ… å­¦ä¹ åœˆåŠ¨æ€ï¼ˆå±•ç¤ºå¤§å®¶çš„æ‰“å¡ï¼‰
- âœ… ç‚¹èµ/è¯„è®ºåŠŸèƒ½
- âœ… å¥½å‹å…³æ³¨

#### æˆå‘˜ D - ç»Ÿè®¡ä¸åå°æ¨¡å—
- âœ… å­¦ä¹ æ—¶é•¿ç»Ÿè®¡å›¾è¡¨
- âœ… æ´»è·ƒç”¨æˆ·æ’è¡Œæ¦œ
- âœ… åå°æ•°æ®ç®¡ç†ï¼ˆè¿è§„å†…å®¹åˆ é™¤ï¼‰

## æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js** - æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ
- **Express.js** - Webåº”ç”¨æ¡†æ¶
- **MySQL** - å…³ç³»å‹æ•°æ®åº“
- **Sequelize** - MySQL ORMæ¡†æ¶
- **JWT** - èº«ä»½éªŒè¯
- **Socket.IO** - å®æ—¶é€šä¿¡
- **Nodemailer** - é‚®ä»¶æœåŠ¡

### å‰ç«¯
- **React** - ç”¨æˆ·ç•Œé¢åº“
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Ant Design** - UIç»„ä»¶åº“
- **React Router** - è·¯ç”±ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯
- **Recharts** - å›¾è¡¨åº“
- **Socket.IO Client** - å®æ—¶é€šä¿¡å®¢æˆ·ç«¯

## é¡¹ç›®ç»“æ„

```
æ™ºèƒ½å­¦ä¹ æ‰“å¡ç³»ç»Ÿ/
â”œâ”€â”€ server/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ User.js        # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Checkin.js     # æ‰“å¡æ¨¡å‹
â”‚   â”‚   â””â”€â”€ StudyPlan.js   # å­¦ä¹ è®¡åˆ’æ¨¡å‹
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ checkins.js    # æ‰“å¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ plans.js       # å­¦ä¹ è®¡åˆ’è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ social.js      # ç¤¾äº¤è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ stats.js       # ç»Ÿè®¡è·¯ç”±
â”‚   â”‚   â””â”€â”€ users.js       # ç”¨æˆ·ç®¡ç†è·¯ç”±
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.js        # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ index.js           # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ client/                # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx  # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.tsx # æ³¨å†Œé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ Checkin.tsx # æ‰“å¡é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Plans.tsx  # å­¦ä¹ è®¡åˆ’é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Social.tsx # ç¤¾äº¤é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Stats.tsx  # ç»Ÿè®¡é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Profile.tsx # ä¸ªäººèµ„æ–™é¡µ
â”‚   â”‚   â”œâ”€â”€ contexts/      # ä¸Šä¸‹æ–‡
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthContext.tsx # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”‚   â”‚   â””â”€â”€ SocketContext.tsx # Socketä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ services/      # æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ api.ts     # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ App.tsx        # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 14.0.0
- MySQL >= 5.7 æˆ– MySQL >= 8.0
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd æ™ºèƒ½å­¦ä¹ æ‰“å¡ç³»ç»Ÿ
```

2. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd client
npm install
cd ..
```

3. **ç¯å¢ƒé…ç½®**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
cp env.example .env
cp client/env.example client/.env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®MySQLæ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
```

4. **å®‰è£…å¹¶å¯åŠ¨MySQL**
```bash
# Windows: ä¸‹è½½å¹¶å®‰è£…MySQL Community Server
# æˆ–ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…
winget install Oracle.MySQL

# Linux/Mac: ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…
# Ubuntu/Debian: sudo apt install mysql-server
# CentOS/RHEL: sudo yum install mysql-server
# macOS: brew install mysql

# å¯åŠ¨MySQLæœåŠ¡
# Windows: net start mysql
# Linux: sudo systemctl start mysql
# macOS: brew services start mysql
```

5. **åˆ›å»ºæ•°æ®åº“**
```bash
# ç™»å½•MySQL
mysql -u root -p

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE smart_study_checkin CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# é€€å‡ºMySQL
exit;
```

6. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„å’Œç¤ºä¾‹æ•°æ®
npm run init-db
```

7. **å¯åŠ¨é¡¹ç›®**
```bash
# å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨å‰åç«¯ï¼‰
npm run dev

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
npm run server  # å¯åŠ¨åç«¯ (ç«¯å£5000)
npm run client  # å¯åŠ¨å‰ç«¯ (ç«¯å£3000)
```

8. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:5000/api

## APIæ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/auth/profile` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯

### æ‰“å¡æ¥å£
- `POST /api/checkins` - åˆ›å»ºæ‰“å¡
- `GET /api/checkins` - è·å–æ‰“å¡åˆ—è¡¨
- `GET /api/checkins/:id` - è·å–æ‰“å¡è¯¦æƒ…
- `POST /api/checkins/:id/like` - ç‚¹èµ/å–æ¶ˆç‚¹èµ
- `POST /api/checkins/:id/comments` - æ·»åŠ è¯„è®º

### å­¦ä¹ è®¡åˆ’æ¥å£
- `POST /api/plans` - åˆ›å»ºå­¦ä¹ è®¡åˆ’
- `GET /api/plans` - è·å–å­¦ä¹ è®¡åˆ’åˆ—è¡¨
- `GET /api/plans/:id` - è·å–å­¦ä¹ è®¡åˆ’è¯¦æƒ…
- `PUT /api/plans/:id` - æ›´æ–°å­¦ä¹ è®¡åˆ’
- `POST /api/plans/:id/progress` - æ›´æ–°å­¦ä¹ è¿›åº¦

### ç¤¾äº¤æ¥å£
- `POST /api/social/follow/:userId` - å…³æ³¨ç”¨æˆ·
- `DELETE /api/social/follow/:userId` - å–æ¶ˆå…³æ³¨
- `GET /api/social/feed` - è·å–å­¦ä¹ åœˆåŠ¨æ€
- `GET /api/social/search/users` - æœç´¢ç”¨æˆ·

### ç»Ÿè®¡æ¥å£
- `GET /api/stats/leaderboard/study-time` - å­¦ä¹ æ—¶é•¿æ’è¡Œæ¦œ
- `GET /api/stats/leaderboard/streak` - è¿ç»­æ‰“å¡æ’è¡Œæ¦œ
- `GET /api/stats/personal/:userId` - ä¸ªäººç»Ÿè®¡
- `GET /api/stats/global` - å…¨å±€ç»Ÿè®¡

## æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)
```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(20) UNIQUE NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  avatar VARCHAR(255) DEFAULT '',
  bio VARCHAR(200) DEFAULT '',
  study_goals JSON DEFAULT '[]',
  total_study_time INT DEFAULT 0,
  streak INT DEFAULT 0,
  last_checkin_date DATETIME NULL,
  is_active BOOLEAN DEFAULT TRUE,
  role ENUM('user', 'admin') DEFAULT 'user',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### æ‰“å¡è¡¨ (checkins)
```sql
CREATE TABLE checkins (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  content TEXT NOT NULL,
  study_time INT NOT NULL,
  subject VARCHAR(100) NOT NULL,
  images JSON DEFAULT '[]',
  mood ENUM('excited', 'happy', 'normal', 'tired', 'frustrated') DEFAULT 'normal',
  location VARCHAR(255) DEFAULT '',
  likes JSON DEFAULT '[]',
  comments JSON DEFAULT '[]',
  is_public BOOLEAN DEFAULT TRUE,
  tags JSON DEFAULT '[]',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  INDEX idx_user_created (user_id, created_at),
  INDEX idx_created (created_at),
  INDEX idx_subject (subject)
);
```

### å­¦ä¹ è®¡åˆ’è¡¨ (study_plans)
```sql
CREATE TABLE study_plans (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  title VARCHAR(100) NOT NULL,
  description TEXT DEFAULT '',
  subject VARCHAR(100) NOT NULL,
  target VARCHAR(255) NOT NULL,
  start_date DATETIME NOT NULL,
  end_date DATETIME NOT NULL,
  total_hours DECIMAL(10,2) NOT NULL,
  completed_hours DECIMAL(10,2) DEFAULT 0,
  daily_goal INT DEFAULT 60,
  milestones JSON DEFAULT '[]',
  reminders JSON DEFAULT '[]',
  progress JSON DEFAULT '[]',
  is_active BOOLEAN DEFAULT TRUE,
  is_completed BOOLEAN DEFAULT FALSE,
  tags JSON DEFAULT '[]',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  INDEX idx_user_created (user_id, created_at),
  INDEX idx_end_date (end_date),
  INDEX idx_subject (subject)
);
```

### ç”¨æˆ·å…³æ³¨è¡¨ (user_follows)
```sql
CREATE TABLE user_follows (
  id INT PRIMARY KEY AUTO_INCREMENT,
  follower_id INT NOT NULL,
  following_id INT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (follower_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (following_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE KEY unique_follow (follower_id, following_id)
);
```

## åŠŸèƒ½æˆªå›¾

### ç™»å½•æ³¨å†Œ
- ç¾è§‚çš„ç™»å½•æ³¨å†Œç•Œé¢
- è¡¨å•éªŒè¯å’Œé”™è¯¯æç¤º
- å“åº”å¼è®¾è®¡

### ä»ªè¡¨ç›˜
- å­¦ä¹ ç»Ÿè®¡æ¦‚è§ˆ
- æœ€è¿‘æ‰“å¡åŠ¨æ€
- æ´»è·ƒå­¦ä¹ è®¡åˆ’

### å­¦ä¹ æ‰“å¡
- ä¸°å¯Œçš„æ‰“å¡è¡¨å•
- å¿ƒæƒ…å’Œæ ‡ç­¾è®°å½•
- å®æ—¶åŠ¨æ€å±•ç¤º

### å­¦ä¹ è®¡åˆ’
- å¯è§†åŒ–è¿›åº¦ç®¡ç†
- é‡Œç¨‹ç¢‘è®¾ç½®
- è®¡åˆ’ç»Ÿè®¡

### ç¤¾äº¤åŠŸèƒ½
- å­¦ä¹ åœˆåŠ¨æ€
- ç”¨æˆ·å…³æ³¨ç³»ç»Ÿ
- ç‚¹èµè¯„è®ºäº’åŠ¨

### ç»Ÿè®¡åˆ†æ
- ä¸ªäººå­¦ä¹ ç»Ÿè®¡
- æ’è¡Œæ¦œç³»ç»Ÿ
- æ•°æ®å¯è§†åŒ–å›¾è¡¨

## å¼€å‘è®¡åˆ’

### å·²å®ŒæˆåŠŸèƒ½ âœ…
- [x] ç”¨æˆ·æ³¨å†Œç™»å½•ç³»ç»Ÿ
- [x] å­¦ä¹ æ‰“å¡åŠŸèƒ½
- [x] å­¦ä¹ è®¡åˆ’ç®¡ç†
- [x] ç¤¾äº¤äº’åŠ¨åŠŸèƒ½
- [x] ç»Ÿè®¡å›¾è¡¨å±•ç¤º
- [x] å“åº”å¼ç•Œé¢è®¾è®¡

### å¾…å¼€å‘åŠŸèƒ½ ğŸš§
- [ ] é‚®ä»¶æé†’ç³»ç»Ÿ
- [ ] æ¶ˆæ¯æ¨é€åŠŸèƒ½
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] ç®¡ç†å‘˜åå°
- [ ] å­¦ä¹ å°ç»„åŠŸèƒ½
- [ ] æˆå°±ç³»ç»Ÿ

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®Issues: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

**æ™ºèƒ½å­¦ä¹ æ‰“å¡ç³»ç»Ÿ** - è®©å­¦ä¹ æ›´æœ‰è¶£ï¼Œè®©è¿›æ­¥æ›´å¯è§ï¼ ğŸ“âœ¨
